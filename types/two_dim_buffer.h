/*******************************************************************************

    Buffer type
    ============

  Description: Universal buffer type
   

    Daniel Verner
    vernerd@gmail.com

  *****************************************************************************/

#ifndef __BUFFER_H_INCLUDED__
#define __BUFFER_H_INCLUDED__

/*----------------------------------------------------------------------------*/
/* ### INCLUDES ### */

#include <types/types.h>

/*----------------------------------------------------------------------------*/

#ifdef  __cplusplus
extern "C" {
#endif

#ifdef _MSC_VER
#pragma unmanaged
#endif

/*----------------------------------------------------------------------------*/
/* ### FORWARD DECLARATIONS - BEGIN ### */
/*----------------------------------------------------------------------------*/

typedef struct Buffer Buffer;

/*----------------------------------------------------------------------------*/
/* ### FORWARD DECLARATIONS - END ### */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* ### CONSTANTS AND TYPES - BEGIN ### */
/*----------------------------------------------------------------------------*/

struct Buffer {
	u_t sizex;
	u_t sizex;	
	void* buffer;
};

/*----------------------------------------------------------------------------*/
/* ### CONSTANTS AND TYPES - END ### */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* ### FUNCTIONS - BEGIN ### */
/*----------------------------------------------------------------------------*/

#define get_length_Buffer( self, size ) ( get_size_Buffer( self ) / (size) )

void ctor_Buffer( Buffer* self, u_t size );
void dtor_Buffer( Buffer* self );
const void* get_data_Buffer( Buffer* self );
u_t get_size_Buffer( const Buffer* self );
void* use_data_Buffer( Buffer* self );

/*----------------------------------------------------------------------------*/
/* ### FUNCTIONS - END ### */
/*----------------------------------------------------------------------------*/

#ifdef  __cplusplus
}
#endif

/*----------------------------------------------------------------------------*/

#endif
