/*******************************************************************************

    Header file for vector.c
    ==============================
   

    Daniel Verner
    vernerd@gmail.com
  *****************************************************************************/

#ifndef __VECTOR_H_INCLUDED__
#define __VECTOR_H_INCLUDED__

/*----------------------------------------------------------------------------*/
/* ### INCLUDES ### */

#include "buffer.h"

/*----------------------------------------------------------------------------*/

#ifdef  __cplusplus
extern "C" {
#endif

#ifdef _MSC_VER
#pragma unmanaged
#endif

/*----------------------------------------------------------------------------*/
/* ### FORWARD DECLARATIONS - BEGIN ### */
/*----------------------------------------------------------------------------*/

typedef struct Vector Vector;

/*----------------------------------------------------------------------------*/
/* ### FORWARD DECLARATIONS - END ### */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* ### CONSTANTS AND TYPES - BEGIN ### */
/*----------------------------------------------------------------------------*/


struct Vector {
	Buffer base;
	u_t capacity;
	u_t usedBytes;
};

/*----------------------------------------------------------------------------*/
/* ### CONSTANTS AND TYPES - END ### */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* ### FUNCTIONS - BEGIN ### */
/*----------------------------------------------------------------------------*/
void ctor_Vector ( Vector* self, u_t size);
void dtor_Vector ( Vector* self );
void append_Vector( Vector* self, u_t size, const void* append );

#define get_num_elements_Vector( self, type ) (i_t)( ((Vector*)self)->usedBytes / sizeof( type ))

/*----------------------------------------------------------------------------*/
/* ### FUNCTIONS - END ### */
/*----------------------------------------------------------------------------*/

#ifdef  __cplusplus
}
#endif

/*----------------------------------------------------------------------------*/

#endif
